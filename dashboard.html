<!DOCTYPE html>
<html lang="ko">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>ğŸ”¥ ì„±ëŠ¥ ë¹„êµ ëŒ€ì‹œë³´ë“œ</title>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <style>
    body { font-family: Arial, sans-serif; text-align: center; margin: 20px; line-height: 1.6; }
    h1 { font-size: 2em; }
    canvas { max-width: 600px; height: 600px; margin: 30px auto; display: block; }
    a { display: inline-block; margin-top: 30px; text-decoration: none; padding: 8px 16px; border: 1px solid #ccc; border-radius: 4px; background: #fff; color: #333; }
    .explanation-section {
      max-width: 800px;
      margin: 40px auto;
      padding: 20px;
      border: 1px solid #eee;
      border-radius: 8px;
      text-align: left;
      background-color: #f9f9f9;
    }
    .explanation-section h2 {
      text-align: center;
      color: #333;
      margin-bottom: 20px;
    }
    .explanation-section h3 {
      color: #555;
      margin-top: 25px;
    }
    .explanation-section p {
      color: #666;
      margin-bottom: 10px;
    }
    .explanation-section ul {
      list-style-type: disc;
      margin-left: 20px;
      color: #666;
    }
    .explanation-section ul li {
      margin-bottom: 5px;
    }

    /* Responsive adjustments */
    @media (max-width: 768px) {
      h1 { font-size: 1.8em; }
      canvas { max-width: 90%; height: auto; }
      .explanation-section {
        margin: 20px auto;
        padding: 15px;
      }
    }

    @media (max-width: 480px) {
      body { margin: 10px; }
      h1 { font-size: 1.5em; }
      canvas { max-width: 95%; }
      a { padding: 6px 12px; font-size: 0.9em; }
      .explanation-section {
        padding: 10px;
        font-size: 0.9em;
      }
    }
  </style>
</head>
<body>
  <h1>ğŸ”¥ ì„±ëŠ¥ ì§€í‘œ ë¹„êµ</h1>

  <div class="explanation-section">
    <h2>ì›¹ì‚¬ì´íŠ¸ ë° ìš©ì–´ ì„¤ëª…</h2>
    <h3>ì´ ì›¹ì‚¬ì´íŠ¸ëŠ” ë¬´ì—‡ì¸ê°€ìš”?</h3>
    <p>ì´ ì›¹ì‚¬ì´íŠ¸ëŠ” ì‚°ë¶ˆ ìœ„í—˜ì„ ì˜ˆì¸¡í•˜ëŠ” ëª¨ë¸ì˜ ì„±ëŠ¥ì„ ì‹œê°ì ìœ¼ë¡œ ë¹„êµí•˜ê³  ë¶„ì„í•˜ê¸° ìœ„í•´ ê°œë°œë˜ì—ˆìŠµë‹ˆë‹¤. ë‹¤ì–‘í•œ ì˜ˆì¸¡ ëª¨ë¸(ì˜ˆ: LightGBM, Transformer, ì¸ê³µìœ„ì„± ê·œì¹™ ê¸°ë°˜)ì´ ì‚°ë¶ˆ ë°œìƒ ê°€ëŠ¥ì„±ì„ ì–¼ë§ˆë‚˜ ì •í™•í•˜ê²Œ ì˜ˆì¸¡í•˜ëŠ”ì§€, ê·¸ë¦¬ê³  ì–´ë–¤ ì§€í‘œì—ì„œ ê°•ì ì„ ë³´ì´ëŠ”ì§€ í•œëˆˆì— íŒŒì•…í•  ìˆ˜ ìˆë„ë¡ ë•ìŠµë‹ˆë‹¤.</p>
    <p>ì‚¬ìš©ìëŠ” ì´ ëŒ€ì‹œë³´ë“œë¥¼ í†µí•´ ê° ëª¨ë¸ì˜ <b>ì •í™•ë„, ì •ë°€ë„, ì¬í˜„ìœ¨, F1-Score</b>ë¥¼ ë¹„êµí•˜ì—¬, ì–´ë–¤ ëª¨ë¸ì´ íŠ¹ì • ìƒí™©ì—ì„œ ë” ì í•©í•œì§€ íŒë‹¨í•˜ëŠ” ë° ë„ì›€ì„ ë°›ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.</p>

    <h3>ëª¨ë¸ ì„¤ëª…</h3>
    <ul>
      <li><b>LightGBM (Baseline):</b> ê¸°ë³¸ì ì¸ ë¨¸ì‹ ëŸ¬ë‹ ëª¨ë¸ë¡œ, ë¹ ë¥´ê³  íš¨ìœ¨ì ì¸ í•™ìŠµì´ íŠ¹ì§•ì…ë‹ˆë‹¤. ë‹¤ë¥¸ ëª¨ë¸ë“¤ì˜ ì„±ëŠ¥ì„ ë¹„êµí•˜ëŠ” ê¸°ì¤€ì (baseline)ìœ¼ë¡œ ì‚¬ìš©ë©ë‹ˆë‹¤.</li>
      <li><b>Transformer:</b> ìì—°ì–´ ì²˜ë¦¬ ë¶„ì•¼ì—ì„œ ë›°ì–´ë‚œ ì„±ëŠ¥ì„ ë³´ì´ëŠ” ëª¨ë¸ êµ¬ì¡°ë¡œ, ì‹œê³„ì—´ ë°ì´í„°ë‚˜ ë³µì¡í•œ íŒ¨í„´ ì¸ì‹ì— í™œìš©ë  ìˆ˜ ìˆìŠµë‹ˆë‹¤.</li>
      <li><b>ì¸ê³µìœ„ì„± ê·œì¹™ ê¸°ë°˜ (Satellite Rule-Based):</b> ì¸ê³µìœ„ì„± ë°ì´í„°ë¥¼ ê¸°ë°˜ìœ¼ë¡œ íŠ¹ì • ê·œì¹™(ì˜ˆ: ì˜¨ë„, ê°•ìˆ˜ëŸ‰, í’ì† ë“±)ì„ ì ìš©í•˜ì—¬ ì‚°ë¶ˆ ìœ„í—˜ì„ ì˜ˆì¸¡í•˜ëŠ” ëª¨ë¸ì…ë‹ˆë‹¤. ì‹¤ì œ ì‚°ë¶ˆ ë°œìƒ ì§€ì ì˜ ë‚ ì”¨ ë°ì´í„°ë¥¼ í™œìš©í•˜ì—¬ ì‚°ë¶ˆ ìœ„í—˜ë„ë¥¼ íŒë‹¨í•©ë‹ˆë‹¤.</li>
    </ul>

    <h3>ì„±ëŠ¥ ì§€í‘œ ì„¤ëª…</h3>
    <ul>
      <li><b>ì •í™•ë„ (Accuracy):</b> ì „ì²´ ì˜ˆì¸¡ ì¤‘ì—ì„œ ì˜¬ë°”ë¥´ê²Œ ì˜ˆì¸¡í•œ ë¹„ìœ¨ì…ë‹ˆë‹¤. (ì˜ˆ: ì‚°ë¶ˆì´ ë°œìƒí•œë‹¤ê³  ì˜ˆì¸¡í–ˆëŠ”ë° ì‹¤ì œë¡œ ë°œìƒí–ˆê³ , ì‚°ë¶ˆì´ ë°œìƒí•˜ì§€ ì•ŠëŠ”ë‹¤ê³  ì˜ˆì¸¡í–ˆëŠ”ë° ì‹¤ì œë¡œ ë°œìƒí•˜ì§€ ì•Šì€ ê²½ìš°)</li>
      <li><b>ì •ë°€ë„ (Precision):</b> ëª¨ë¸ì´ 'ì‚°ë¶ˆ ë°œìƒ'ì´ë¼ê³  ì˜ˆì¸¡í•œ ê²ƒ ì¤‘ì—ì„œ ì‹¤ì œë¡œ ì‚°ë¶ˆì´ ë°œìƒí•œ ë¹„ìœ¨ì…ë‹ˆë‹¤. (ì˜¤íƒì„ ì¤„ì´ëŠ” ê²ƒì´ ì¤‘ìš”í•  ë•Œ ìœ ìš©)</li>
      <li><b>ì¬í˜„ìœ¨ (Recall):</b> ì‹¤ì œ ì‚°ë¶ˆì´ ë°œìƒí•œ ê²½ìš° ì¤‘ì—ì„œ ëª¨ë¸ì´ ì‚°ë¶ˆì´ ë°œìƒí•œë‹¤ê³  ì˜¬ë°”ë¥´ê²Œ ì˜ˆì¸¡í•œ ë¹„ìœ¨ì…ë‹ˆë‹¤. (ì‹¤ì œ ì‚°ë¶ˆì„ ë†“ì¹˜ì§€ ì•ŠëŠ” ê²ƒì´ ì¤‘ìš”í•  ë•Œ ìœ ìš©)</li>
      <li><b>F1-Score:</b> ì •ë°€ë„ì™€ ì¬í˜„ìœ¨ì˜ ì¡°í™” í‰ê· ì…ë‹ˆë‹¤. ë‘ ì§€í‘œì˜ ê· í˜•ì„ ê³ ë ¤í•  ë•Œ ì‚¬ìš©ë©ë‹ˆë‹¤.</li>
    </ul>
    <p>ì´ ì§€í‘œë“¤ì€ ëª¨ë¸ì´ ì‚°ë¶ˆ ìœ„í—˜ì„ ì–¼ë§ˆë‚˜ íš¨ê³¼ì ìœ¼ë¡œ ê°ì§€í•˜ê³  ë¶„ë¥˜í•˜ëŠ”ì§€ í‰ê°€í•˜ëŠ” ë° ì¤‘ìš”í•œ ì—­í• ì„ í•©ë‹ˆë‹¤.</p>
  </div>
  <canvas id="metricsChart"></canvas>

  <a href="index.html">â† ì§€ë„ ë³´ê¸°ë¡œ ëŒì•„ê°€ê¸°</a>

  <script>
    fetch('static/metrics.json')
      .then(response => {
        if (!response.ok) {
          throw new Error("metrics.json íŒŒì¼ì„ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤.");
        }
        return response.json();
      })
      .then(data => {
        const labels = ['ì •í™•ë„ (Accuracy)', 'ì •ë°€ë„ (Precision)', 'ì¬í˜„ìœ¨ (Recall)', 'F1-Score'];
        const chartDatasets = [];

        // LightGBM (Baseline) ë°ì´í„° ì²˜ë¦¬
        if (data.baseline) {
          chartDatasets.push({
            label: 'LightGBM (Baseline)',
            data: [
              data.baseline.accuracy * 100,
              data.baseline.precision * 100,
              data.baseline.recall * 100,
              data.baseline.f1 * 100
            ],
            backgroundColor: 'rgba(153, 102, 255, 0.7)' // Purple
          });
        }

        // Transformer ë°ì´í„° ì²˜ë¦¬
        if (data.transformer) {
          chartDatasets.push({
            label: 'Transformer',
            data: [
              data.transformer.accuracy * 100,
              data.transformer.precision * 100,
              data.transformer.recall * 100,
              data.transformer.f1 * 100
            ],
            backgroundColor: 'rgba(75, 192, 192, 0.7)' // Teal
          });
        }

        // Satellite Rule-Based ëª¨ë¸ ë°ì´í„° ì²˜ë¦¬
        if (data.satellite_rule_based) {
          chartDatasets.push({
            label: 'ì¸ê³µìœ„ì„± ê·œì¹™ ê¸°ë°˜ (Satellite Rule-Based)',
            data: [
              data.satellite_rule_based.accuracy * 100,
              data.satellite_rule_based.precision * 100,
              data.satellite_rule_based.recall * 100,
              data.satellite_rule_based.f1 * 100
            ],
            backgroundColor: 'rgba(255, 99, 132, 0.7)' // Red
          });
        }
        
        if (chartDatasets.length === 0) {
            document.body.innerHTML += '<p>í‘œì‹œí•  ì„±ëŠ¥ ì§€í‘œ ë°ì´í„°ê°€ ì—†ìŠµë‹ˆë‹¤. ëª¨ë¸ì„ ë¨¼ì € í›ˆë ¨ì‹œì¼œ ì£¼ì„¸ìš”.</p>';
            return;
        }

        const ctx = document.getElementById('metricsChart').getContext('2d');
        new Chart(ctx, {
          type: 'bar',
          data: {
            labels: labels,
            datasets: chartDatasets
          },
          options: {
            responsive: true,
            plugins: {
              title: {
                display: true,
                text: 'ëª¨ë¸ë³„ ì„±ëŠ¥ ì§€í‘œ ë¹„êµ (ë‹¨ìœ„: %)',
                font: {
                    size: 18
                }
              },
              tooltip: {
                callbacks: {
                  label: function(context) {
                    let label = context.dataset.label || '';
                    if (label) {
                      label += ': ';
                    }
                    if (context.parsed.y !== null) {
                      label += context.parsed.y.toFixed(2) + '%';
                    }
                    return label;
                  }
                }
              }
            },
            animation: {
              duration: 1500,
              easing: 'easeOutBounce'
            },
            scales: {
              y: {
                beginAtZero: true,
                // max: 100, // yì¶• ìµœëŒ€ê°’ì„ ìë™ìœ¼ë¡œ ì¡°ì ˆí•˜ë„ë¡ ì£¼ì„ ì²˜ë¦¬
                ticks: {
                  // yì¶•ì— % ê¸°í˜¸ ì¶”ê°€
                  callback: function(value) {
                    return value + '%';
                  }
                }
              }
            }
          }
        });
      })
      .catch(error => {
        console.error('Error fetching or parsing metrics.json:', error);
        document.body.innerHTML += `<p>ì„±ëŠ¥ ì§€í‘œë¥¼ ë¶ˆëŸ¬ì˜¤ëŠ” ì¤‘ ì˜¤ë¥˜ê°€ ë°œìƒí–ˆìŠµë‹ˆë‹¤: ${error.message}</p>`;
      });
  </script>
</body>
</html>
